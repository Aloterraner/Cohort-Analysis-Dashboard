{% extends 'base.html' %}

{% block content  %}

  {% if message %}
          <script>
              alert({{message}})
          </script>
  {% endif %}

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" id="timeframe-tab" data-toggle="tab" href="#timeframe" role="tab" aria-controls="timeframe" aria-selected="true">Timeframe</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="concurrency-tab" data-toggle="tab" href="#concurrency" role="tab" aria-controls="concurrency" aria-selected="false">Concurrency</a>
  </li>
</ul>
<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="timeframe" role="tabpanel" aria-labelledby="timeframe-tab">
    <div class="container-fluid" id="graph">
      <div class="row">
      <div class="col-4">
        <br>
        <table class="table table-sm table-hover">
          <thead>
            <tr>
              <th scope="col">Group Name</th>
              <th scope="col">Number of Activities</th>
            </tr>
          </thead>
          <tbody>
            {% if  active_group_details.items %}
            {% for key, value in active_group_details.items %}
            {% with group_name=value.group_name %}   
            <tr>
              <td><label class="checkbox-inline"> <input type="checkbox" name="group_name" class="group_name" value=""></label> {{group_name}}</td>
              <td style="text-align: center;">{{value.number_of_activities}}</td>
            </tr>
            {% endwith %}
            {% endfor %}
            {% endif %}
          </tbody>
        </table>
        <input type = "button" class="btn btn-primary" value = "Cohort Analysis" name = "cohort_analysis_timeframe" id ='cohort_analysis_timeframe'/>
      </div>
      <div class="col-8">
        <div class="container-fluid">
          {% if plots.concurrency_plt_div %}
            <h3> Concurrency Plot </h3>
            {% autoescape off %}
            {{ plots.concurrency_plt_div }}
            {% endautoescape %}
          {% endif %}

          {% if plots.concurrency_plt_div %}
            <h3> Amplitude Plot </h3>
            {% autoescape off %}
            {{ plots.timeframe_plt_div }}
            {% endautoescape %}
          {% endif %}
        </div>
      </div>
      </div>
    </div>
    
    

  </div>

  <div class="tab-pane fade" id="concurrency" role="tabpanel" aria-labelledby="concurrency-tab">
    <div class="container-fluid" id="graph">
      <div class="row">
      <div class="col-4">
        <br>
        <table class="table table-sm table-hover">
          <thead>
            <tr>
              <th scope="col">Group Name</th>
              <th scope="col">Number of Activities</th>
            </tr>
          </thead>
          <tbody>
            {% if  active_group_details.items %}
            {% for key, value in active_group_details.items %}
            {% with group_name=value.group_name %}   
            <tr>
              <td><label class="checkbox-inline"> <input type="checkbox" name="group_name" class="group_name" value=""></label> {{group_name}}</td>
              <td style="text-align: center;">{{value.number_of_activities}}</td>
            </tr>
            {% endwith %}
            {% endfor %}
            {% endif %}
          </tbody>
        </table>
        <input type = "button" class="btn btn-primary" value = "Cohort Analysis" name = "cohort_analysis_concurrency" id ='cohort_analysis_concurrency'/>
      </div>
      
      </div>
    </div>
  


  </div>
</div>




{% endblock %}